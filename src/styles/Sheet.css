:root{
  --ink:#0b0b0d;
  --ink-2:#151518;
  --line:#2b2b30;
  --bone:#d9d7d0;
  --bone-dim:#b9b6ad;
  --crimson:#8a0f1a;
  --crimson-2:#b51221;

  /* New depth/FX tokens */
  --glass: rgba(255,255,255,.04);
  --glass-2: rgba(255,255,255,.02);
  --shadow-lg: 0 18px 60px rgba(0,0,0,.45);
  --shadow-md: 0 8px 22px rgba(0,0,0,.35);
  --ring: 0 0 0 2px rgba(181,18,33,.35);
}

*{ box-sizing: border-box; }
html, body, #root{ height:100%; background: var(--ink); color: var(--bone); }
body{ margin:0; font-family: 'Segoe UI', Roboto, sans-serif; }

/* Vignette + noise atmosphere */
.vignette{
  position: fixed; inset: 0;
  pointer-events:none; z-index:0;
  background:
    radial-gradient(120% 85% at 50% -20%, rgba(181,18,33,.15), transparent 60%),
    radial-gradient(160% 100% at 50% 120%, rgba(0,0,0,.65), rgba(0,0,0,.92)),
    linear-gradient(180deg, rgba(255,255,255,.02), transparent);
  mix-blend-mode: normal;
}
.sheet-page{ min-height:100dvh; padding: 24px 12px 48px; position:relative; z-index:1; }

/* Glass cards */
.sheet-card{
  width:min(92vw, 980px); margin: 0 auto 18px;
  background: linear-gradient(180deg, var(--glass), var(--glass-2));
  border:1px solid rgba(255,255,255,.06);
  border-radius:16px; padding:18px; box-shadow: var(--shadow-md);
  backdrop-filter: blur(6px);
}
.sheet-wide{ padding:24px; }

.card-title{ margin:0 0 12px 0; letter-spacing:.06em; text-transform:uppercase; }

/* Skyline header tint */
.skyline{
  --tint:#8a0f1a;
  position:absolute; inset:0 0 auto 0; height:160px; pointer-events:none;
  background:
    linear-gradient(180deg, color-mix(in oklab, var(--tint), transparent 60%), transparent 80%),
    radial-gradient(100% 80% at 50% -10%, color-mix(in oklab, var(--tint), transparent 30%), transparent 70%),
    linear-gradient(180deg, rgba(0,0,0,.60), transparent 60%);
}
.sheet-page::after{
  content:""; position:absolute; left:0; right:0; top:120px; height:80px; pointer-events:none;
  background:
    linear-gradient(180deg, rgba(0,0,0,.35), transparent 60%),
    repeating-linear-gradient(90deg, transparent 0 48px, rgba(0,0,0,.07) 48px 49px);
  filter: blur(6px);
}

/* Stepper â€“ vitae bar vibe */
.stepper{ display:flex; flex-wrap:wrap; gap:8px; margin:6px 0 14px 0 }
.step{
  display:flex; align-items:center; gap:8px; padding:8px 10px;
  border:1px solid var(--line); border-radius:999px;
  background:rgba(255,255,255,.02); color:var(--bone-dim); cursor:pointer;
  transition: border-color .2s, color .2s, transform .15s;
}
.step:hover{ transform: translateY(-1px); }
.step .num{
  display:inline-grid; place-items:center; width:22px; height:22px;
  border-radius:999px; background:#1a1a1f; border:1px solid var(--line);
  box-shadow: inset 0 0 0 2px rgba(255,255,255,.02), 0 0 0 1px rgba(0,0,0,.35);
}
.step.active{ color:var(--bone); border-color:var(--crimson-2); box-shadow: var(--ring); }
.step.done{ color:var(--bone); opacity:.9 }

/* Fields */
.field{ display:flex; flex-direction:column; margin-bottom:12px; }
.field-label{ font-size:.85rem; margin-bottom:6px; color:var(--bone-dim); letter-spacing:.04em; }
.input{
  padding:12px 14px; border-radius:12px; border:1px solid var(--line);
  background:var(--ink-2); color:var(--bone); font-size:.95rem;
  transition: border-color .2s, box-shadow .2s, background .2s;
}
.input:focus{ outline:none; border-color:var(--crimson-2); box-shadow: var(--ring); background: #19191d; }

textarea.input{ resize: vertical; }

/* Alerts */
.alert{
  display:flex; align-items:center; gap:.6rem;
  background:linear-gradient(180deg, rgba(207,49,65,.13), rgba(207,49,65,.08));
  border:1px solid rgba(207,49,65,.35); color:#ffd7d7;
  padding:10px 12px; border-radius:12px; margin-bottom:12px;
}
.alert-dot{ width:8px; height:8px; border-radius:999px; background:#cf3141; box-shadow:0 0 6px #cf3141; }

/* Buttons */
.ghost-btn{
  background:var(--ink-2); border:1px solid var(--line); color:var(--bone-dim);
  border-radius:12px; padding:10px 12px; cursor:pointer; transition: .2s;
}
.ghost-btn:hover{ color:var(--bone); background:rgba(255,255,255,.03); }
.cta{
  background:linear-gradient(180deg, var(--crimson-2), var(--crimson)); color:#fff;
  border:none; border-radius:12px; padding:12px 14px; cursor:pointer;
  box-shadow:0 4px 12px rgba(138,15,26,.4); transition: transform .15s, box-shadow .15s, filter .2s;
}
.cta:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(138,15,26,.6); }
.cta:disabled{ filter: grayscale(.6) brightness(.8); cursor:not-allowed; }

/* Layout helpers */
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.grid-3{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; }
.attr-skill-grid{ display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; margin-top:8px; }
.card-ish{
  border:1px solid var(--line); border-radius:12px; padding:12px;
  background:rgba(255,255,255,.02); box-shadow: 0 1px 0 rgba(255,255,255,.04) inset;
}
.flex-row{ display:flex; align-items:center; gap:8px; margin-bottom:8px; }
.dot-controls{ display:flex; align-items:center; gap:8px; margin-left:auto; }
.dotbox{
  min-width:36px; text-align:center; border:1px solid var(--line);
  border-radius:999px; padding:6px 10px; background:var(--ink-2);
}
.vitae{
  position:relative;
  background:
    radial-gradient(8px 8px at 30% 50%, rgba(181,18,33,.45), transparent 60%),
    radial-gradient(8px 8px at 70% 50%, rgba(181,18,33,.45), transparent 60%),
    var(--ink-2);
}
.nav-row{ display:flex; justify-content:space-between; gap:12px; margin-top:14px; }

.section-title{ margin:12px 0 8px 0; letter-spacing:.04em; text-transform:uppercase; }
.section-sub{ margin:12px 0 8px 0; }

/* Clan picker */
.clan-grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(240px,1fr)); gap:12px; }
.clan-card{
  position:relative; border:none; border-radius:16px; padding:14px; color:#f0eaea;
  text-align:left; cursor:pointer; box-shadow:var(--shadow-md);
  overflow:hidden; transition: transform .18s, box-shadow .18s, outline-color .18s;
}
.clan-card::after{
  content:""; position:absolute; inset:0; border-radius:16px;
  background: linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.55));
}
.clan-card::before{
  /* glossy diagonal */
  content:""; position:absolute; inset:-30% -30% 60% -30%;
  background: linear-gradient(60deg, rgba(255,255,255,.14), transparent 35%);
  transform: translateY(0); filter: blur(6px);
}
.clan-card:hover{ transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.clan-card.active{ outline:2px solid rgba(255,255,255,.35); box-shadow: 0 0 0 3px rgba(181,18,33,.25), var(--shadow-lg); }

.clan-logo-wrap{ position:relative; z-index:1; display:flex; height:64px; align-items:center; }
.clan-logo{ height:48px; width:auto; filter: drop-shadow(0 2px 6px rgba(0,0,0,.6)); }
.clan-meta{ position:relative; z-index:1; margin-top:6px; }
.clan-name{ font-weight:700; letter-spacing:.04em; text-shadow: 0 1px 0 rgba(0,0,0,.6); }
.clan-blurb{ font-size:.9rem; opacity:.95; }
.clan-discs{ margin-top:6px; font-size:.85rem; opacity:.95; }

.clan-text-logo{
  margin-top:10px; padding-top:8px; border-top:1px solid rgba(255,255,255,.08);
  display:flex; align-items:center; justify-content:flex-start;
}
.clan-text-logo img{ height:22px; width:auto; filter: drop-shadow(0 1px 0 rgba(0,0,0,.7)); }

/* Discipline card beads */
.disc-card{ position:relative; }
.fav-row{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:8px; }
.beads{ display:flex; align-items:center; gap:6px; }
.bead{
  width:10px; height:10px; border-radius:50%;
  background: radial-gradient(circle at 40% 35%, #ff7a7a, #8a0f1a 60%, #3a060a 100%);
  opacity:.35; box-shadow: 0 0 6px rgba(181,18,33,.25);
}
.bead.on{ opacity:1; }

/* Accent edges for content groups */
.bleed-edge{
  position:relative;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.06),
    0 10px 30px rgba(0,0,0,.45);
}
.bleed-edge::after{
  content:""; position:absolute; inset:-1px;
  border-radius:16px;
  background: radial-gradient(120% 40% at 50% -10%, rgba(181,18,33,.12), transparent 60%);
  pointer-events:none;
}
.bleed-soft{ position:relative; }
.bleed-soft::after{
  content:""; position:absolute; inset:-1px; border-radius:12px;
  background: radial-gradient(100% 45% at 50% -10%, rgba(181,18,33,.10), transparent 60%);
  pointer-events:none;
}

/* Review crest */
.review-crest{
  display:flex; align-items:center; gap:12px; justify-content:flex-start;
  padding:12px 14px; background: rgba(255,255,255,.03);
}
.review-crest img:first-child{ height:44px; width:auto; }
.review-crest img:last-child{ height:26px; width:auto; }

/* Muted helper text */
.muted{ color: #cbbfba; opacity:.92; }

/* Scrollbar (dark) */
*::-webkit-scrollbar{ height:12px; width:12px; }
*::-webkit-scrollbar-track{ background: #121216; }
*::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, #2a2a31, #1b1b22);
  border: 2px solid #121216; border-radius: 999px;
}
*::-webkit-scrollbar-thumb:hover{ background: linear-gradient(180deg, #34343c, #202028); }

/* Responsive */
@media (max-width: 980px){
  .grid-3{ grid-template-columns:1fr; }
  .attr-skill-grid{ grid-template-columns:1fr; }
  .grid-2{ grid-template-columns:1fr; }
}
/* (keep your existing CSS) */

/* Disabled button state */
.ghost-btn.disabled,
.ghost-btn:disabled {
  opacity:.45;
  cursor:not-allowed;
  filter: grayscale(.4);
}

/* Small flavor line under section titles */
.small-flavor{
  margin-top:-4px;
  margin-bottom:10px;
  font-size:.9rem;
  opacity:.85;
}

/* Quota bar for attributes/skills */
.quota-bar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.quota-head{
  font-size:.9rem; color:var(--bone-dim); letter-spacing:.04em;
}
.quota-pills{
  display:flex; flex-wrap:wrap; gap:8px;
}
.pill{
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  padding:6px 10px;
  border-radius:999px;
  font-size:.9rem;
}
.pill b{ font-weight:700; color:#ffd7d7; }
.pill.done{
  opacity:.6;
  text-decoration: line-through;
}
.quota-ok{
  margin-left:auto;
  font-size:.85rem;
  color:#a3e7a3;
  text-shadow: 0 1px 0 rgba(0,0,0,.6);
}
