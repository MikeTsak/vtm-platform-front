/* src/styles/Coteries.module.css */
/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&family=Inter:wght@400;500;600&display=swap');

/* Color Palette based on Login.module.css */
:root {
  --bg: #0b0a0c;
  --surface: #141116;       /* Card background */
  --surface-2: #1a151d;     /* Slightly lighter surface */
  --border: #2b2330;       /* Muted border */
  --text: #e7e2ea;         /* Off-white text */
  --muted: #a393a8;         /* Muted purple-grey text */

  --primary: #8a0f1a;      /* Deep blood red - Main Accent */
  --primary-2: #be1200;    /* Brighter blood - Hover/Focus */
  --accent: #d71f3c;       /* Highlight red */
  --glow: #ff2c52;         /* Glow edge */

  /* Adding Status colors for consistency */
  --ok: #3ecf8e; /* Green from DownTimes example, adjust if needed */
  --err: #ff6b6b; /* Reddish error */

  --radius: 12px; /* Adjusted from 14px for consistency */
  --radius-sm: 8px; /* Adjusted from 10px */

  --font-title: 'Cinzel', serif;
  --font-body: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

/* ---------- Base Layout & Typography ---------- */
.wrap {
  max-width: 980px;
  margin: 0 auto;
  padding: clamp(1rem, 3vw, 1.75rem);
  display: grid;
  gap: 1.25rem;
  font-family: var(--font-body);
  color: var(--text);
  /* Background applied globally or on parent, assuming .adminRoot */
}

.header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
  margin-bottom: 0.5rem;
  border-bottom: 1px solid var(--border); /* Add subtle separator */
  padding-bottom: 0.75rem;
}

.title {
  font-family: var(--font-title);
  font-size: clamp(1.8rem, 4vw, 2.5rem);
  font-weight: 800; /* Bolder title */
  margin: 0;
  color: var(--accent); /* Use Highlight Red */
  text-shadow: 0 0 12px var(--glow); /* Use Glow */
}

.text {
  margin: 0;
  color: var(--text);
  line-height: 1.6;
}

.muted {
  margin: 0;
  color: var(--muted);
  line-height: 1.5;
  font-size: 0.9rem;
}

/* Link-like styling for summaries */
.summaryLink {
    cursor: pointer;
    font-weight: 600;
    color: var(--accent); /* Use Highlight Red */
    transition: color 0.2s ease, text-shadow 0.2s ease;
    border-bottom: 1px dashed rgba(215, 31, 60, 0.4); /* Dashed red underline */
}
.summaryLink:hover {
    color: var(--glow);
    text-shadow: 0 0 8px var(--glow);
    border-bottom-color: var(--accent);
}

/* Horizontal Rule */
.hr {
    border: none;
    border-top: 1px solid var(--border); /* Use new border color */
    margin: 1rem 0;
}

/* ---------- Card Styling ---------- */
.card {
  background: linear-gradient(170deg, var(--surface-2), var(--surface)); /* Reversed gradient */
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: 0 10px 30px rgba(0,0,0,.45); /* Adjusted shadow */
  padding: clamp(1rem, 2vw, 1.5rem);
  display: grid;
  gap: 1rem;
  /* Add subtle red glow inside */
  box-shadow: 0 8px 24px rgba(0,0,0,.3), inset 0 0 40px rgba(138, 15, 26, 0.1);
}

.cardHeader {
  margin-bottom: 0.5rem;
  display: flex;
  align-items: baseline;
  gap: 0.75rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--border);
}

.cardTitle {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 700; /* Bolder */
  color: var(--text);
}

.cardSubtitle {
  color: var(--muted);
  font-size: 0.85rem;
}

/* Card Tones (Using Error/Success from new palette) */
.card[data-tone="success"] {
  border-left: 4px solid var(--ok);
  background: color-mix(in srgb, var(--surface) 85%, var(--ok) 15%);
}
.card[data-tone="warn"] {
  border-left: 4px solid var(--err);
  background: color-mix(in srgb, var(--surface) 85%, var(--err) 15%);
}

/* ---------- Tabs (Chip Style) ---------- */
.tabs { display: flex; gap: 0.5rem; flex-wrap: wrap; }
.tabButton {
  padding: 0.5rem 0.9rem; border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface-2); /* Use lighter surface for inactive */
  color: var(--muted);
  cursor: pointer; font-weight: 600; font-size: 0.85rem;
  transition: all 0.2s ease;
}
.tabButton:hover {
  border-color: var(--primary); /* Deep red border */
  color: var(--text);
}
.tabButtonActive {
  border-color: var(--primary);
  background: color-mix(in srgb, var(--primary) 20%, var(--surface)); /* Tinted background */
  color: var(--accent); /* Highlight red text */
  box-shadow: 0 0 8px rgba(138, 15, 26, 0.5); /* Primary red glow */
}

/* ---------- Dot Picker ---------- */
.dotPicker { display: grid; gap: 0.5rem; }
.dotLabel { font-weight: 600; display: flex; align-items: center; gap: 0.5rem; color: var(--text); }
.dotLabelBaseline { font-size: 0.8rem; color: var(--muted); font-weight: 400; }
.dotsContainer { display: flex; gap: 0.75rem; align-items: center; }
.dots { display: flex; gap: 0.4rem; }
.dotButton { background: transparent; border: none; padding: 2px; cursor: pointer; border-radius: 50%; transition: box-shadow 0.2s ease; }
.dotButtonLocked { border: 1px solid var(--ok); padding: 1px; } /* Use OK color */
.dotButton:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--accent); /* Highlight red focus */
}
.dot {
  width: 14px; height: 14px; border-radius: 50%; display: block;
  border: 1px solid var(--border); transition: background-color 0.2s ease, border-color 0.2s ease;
}
.dotFilled {
  background: var(--text); border-color: var(--text);
  box-shadow: 0 0 4px rgba(231, 226, 234, 0.4); /* Subtle glow for filled */
}
.dotButton:hover .dot:not(.dotFilled) {
    border-color: var(--muted); /* Indicate hover on empty */
}
.dotCount { color: var(--muted); font-size: 0.85rem; }

/* ---------- Form Inputs ---------- */
.input, .select, .textarea {
  background: var(--bg); /* Darkest background */
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: var(--radius-sm); /* Use smaller radius */
  min-height: 42px; /* Consistent height from login */
  padding: 0.6rem 0.8rem; /* Adjusted padding */
  font-size: 0.95rem; font-family: inherit;
  transition: border-color .2s, box-shadow .2s;
  width: 100%; box-sizing: border-box;
}
.input:focus, .select:focus, .textarea:focus {
  outline: none;
  border-color: var(--primary); /* Deep red focus border */
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 30%, transparent); /* Deep red focus glow */
}
.input::placeholder { color: var(--muted); opacity: 0.6; }
.textarea { min-height: 100px; resize: vertical; line-height: 1.6; }
.select {
  appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23a393a8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); /* Use muted color */
  background-repeat: no-repeat; background-position: right 0.7rem center; background-size: 1em;
}

/* Specific input adjustments */
.numberInput { width: 100px; text-align: center; } /* Slightly smaller, centered */

/* Labeled Input Structure */
.field { display: grid; gap: 0.5rem; }
.fieldLabel { font-weight: 600; font-size: 0.85rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.05em; }

/* ---------- Buttons ---------- */
/* General Button Base (Not used directly, but composes uses it) */
.button {
  font-family: inherit; font-size: 0.9rem; font-weight: 600; padding: 0.6rem 1rem;
  border: 1px solid var(--border); border-radius: var(--radius-sm); cursor: pointer;
  transition: all 0.2s ease-in-out;
}

/* Primary Action Button (Red) */
.buttonPrimary {
  composes: button;
  background: linear-gradient(180deg, var(--accent), var(--primary)); /* Red gradient */
  color: #fff5f7; /* Light text for contrast */
  border-color: color-mix(in srgb, var(--primary) 70%, #000);
  text-shadow: 0 1px 1px rgba(0,0,0,0.3);
  box-shadow: 0 4px 10px rgba(0,0,0,.3), inset 0 1px 0 rgba(255,255,255,0.05);
}
.buttonPrimary:hover:not(:disabled) {
  background: linear-gradient(180deg, var(--glow), var(--primary-2)); /* Brighter gradient on hover */
  border-color: var(--primary);
  box-shadow: 0 6px 15px rgba(138, 15, 26, 0.4), inset 0 1px 0 rgba(255,255,255,0.1);
  transform: translateY(-1px);
}
.buttonPrimary:disabled {
   background: var(--surface-2); border-color: var(--border); color: var(--muted);
   cursor: not-allowed; opacity: 0.6; box-shadow: none; text-shadow: none;
}
.buttonPrimary:disabled:hover { transform: none; }

/* Secondary/Ghost Button */
.buttonSecondary {
  composes: button;
  background: transparent;
  border-color: var(--border);
  color: var(--muted);
}
.buttonSecondary:hover:not(:disabled) {
  border-color: var(--primary);
  background: color-mix(in srgb, var(--primary) 10%, transparent);
  color: var(--text);
}

/* Specific Button Styles */
.applyTypeButton {
  composes: button; /* Base */
  border-color: var(--ok);
  background: color-mix(in srgb, var(--ok) 15%, var(--surface));
  color: var(--ok);
  font-weight: 700;
}
.applyTypeButton:hover:not(:disabled) {
   background: color-mix(in srgb, var(--ok) 25%, var(--surface));
   box-shadow: 0 0 10px rgba(62, 207, 142, 0.3); /* Green glow */
}
.applyTypeButton:disabled {
  background: var(--surface-2); border-color: var(--border); color: var(--muted);
  cursor: not-allowed; opacity: 0.6; box-shadow: none;
}

/* Small remove button */
.removeButton {
    composes: button; /* Base */
    padding: 0.4rem 0.8rem; font-size: 0.85rem;
    border-color: var(--border); background: transparent; color: var(--muted);
}
.removeButton:hover {
    background-color: var(--primary); /* Deep red */
    border-color: var(--primary);
    color: white;
}

/* ---------- Member Picker ---------- */
.memberSearchInput { composes: input; flex: 1; min-width: 220px; }
.memberListContainer {
    display: grid; gap: 0.4rem; max-height: 180px; overflow-y: auto;
    border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 0.5rem;
    background: var(--bg); /* Darkest background */
}
.memberListItem {
    text-align: left; background: var(--surface); border: 1px solid var(--border);
    border-radius: var(--radius-sm); padding: 0.5rem 0.75rem; color: var(--text);
    cursor: pointer; transition: all 0.2s ease; font-size: 0.9rem;
}
.memberListItem:hover { background: var(--surface-2); border-color: var(--primary); }
.memberListItem b { color: var(--accent); } /* Highlight red name */
.currentMembersList { list-style: none; padding: 0; margin: 0; display: grid; gap: 0.5rem; }
.currentMemberItem { display: flex; align-items: center; gap: 0.5rem; }
.currentMemberName {
    background: var(--bg); border: 1px solid var(--border); padding: 0.4rem 0.8rem;
    border-radius: var(--radius-sm); flex: 1; color: var(--text); font-size: 0.9rem;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* ---------- Required / Extras List ---------- */
.attributeList { margin: 0; padding-left: 1.2rem; display: grid; gap: 0.3rem; list-style-type: 'ðŸ©¸'; /* Custom bullet */ }
.attributeList li { color: var(--text); font-size: 0.95rem; padding-left: 0.5rem; /* Space after bullet */ }
.attributeList li::marker { color: var(--primary); /* Red bullet */ font-size: 0.8em; }
.attributeList li b { color: var(--accent); } /* Highlight name */

/* ---------- Backgrounds Editor ---------- */
.backgroundInput { composes: input; flex: 1; min-width: 220px; }
.backgroundItem { display: flex; gap: 0.75rem; align-items: center; flex-wrap: wrap; }
.backgroundNameDisplay {
    flex: 1; background: var(--bg); border: 1px solid var(--border);
    border-radius: var(--radius-sm); padding: 0.5rem 0.75rem;
    color: var(--text); font-weight: 600;
}
.backgroundControls { display: flex; align-items: center; gap: 0.75rem; }
.backgroundControls .dotPicker .dotLabel { display: none; }

/* ---------- Types Browser ---------- */
.typeSearchInput { composes: input; flex: 1; min-width: 240px; }
.typeItem {
    border: 1px solid var(--border); background: var(--surface);
    border-radius: var(--radius); padding: 1rem; display: grid; gap: 0.5rem;
    transition: all 0.2s ease;
}
.typeItem:hover { border-color: var(--primary); box-shadow: 0 0 10px rgba(138, 15, 26, 0.3); }
.typeItemHeader { display: flex; justify-content: space-between; gap: 1rem; flex-wrap: wrap; align-items: center; }
.typeName { font-size: 1.1rem; font-weight: 700; color: var(--text); }

/* ---------- Responsive Adjustments ---------- */
@media (max-width: 768px) {
    .wrap { padding: 1rem; gap: 1rem; }
    .header { margin-bottom: 0.25rem; }
    .title { font-size: 1.8rem; }
    .card { padding: 1rem; }
    .cardTitle { font-size: 1.1rem; }
    .fieldLabel { font-size: 0.8rem; }
    .input, .select, .textarea { font-size: 0.9rem; min-height: 40px; }
    .button, .buttonPrimary, .buttonSecondary, .applyTypeButton { padding: 0.5rem 0.9rem; font-size: 0.9rem; }
    .backgroundItem { flex-direction: column; align-items: stretch; }
    .backgroundControls { width: 100%; justify-content: space-between; }
}

@media (max-width: 480px) {
    .wrap { padding: 0.75rem; }
    .title { font-size: 1.6rem; }
    .tabs { gap: 0.3rem; }
    .tabButton { padding: 0.4rem 0.7rem; font-size: 0.8rem; }
    .card { padding: 0.75rem; gap: 0.75rem;}
    .dot { width: 12px; height: 12px; }
    .dots { gap: 0.3rem; }
    .numberInput { width: 90px; }
}